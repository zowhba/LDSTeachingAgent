# 📖 후기성도 예수그리스도 교회 공과 준비 도우미 AI Agent

후기성도 예수그리스도 교회의 공과 준비를 도와주는 AI Agent 프로그램입니다. 교회 웹사이트에서 현재 주의 공과 정보를 자동으로 가져와서 대상별 맞춤형 공과 준비 자료를 생성하고, 공과에 대한 질의응답을 제공합니다.

## 🚀 주요 기능

- ✅ 교회 웹사이트에서 현재 주의 공과 정보 자동 수집
- ✅ 대상별 맞춤형 공과 준비 자료 생성 (성인, 신회원, 청소년, 초등회)
- ✅ Azure OpenAI를 활용한 지능형 공과 자료 생성
- ✅ 생성된 자료의 데이터베이스 저장 및 재사용
- ✅ 공과 자료에 대한 실시간 질의응답 채팅
- ✅ 직관적인 웹 인터페이스
- ✅ 반응형 레이아웃

## 📋 상세 기능

### 공과 정보 수집
- 교회 웹사이트 자동 스크래핑
- 현재 주차 자동 계산
- 공과 제목, 내용, 링크 제공

### 맞춤형 자료 생성
- 성인: 깊이 있는 교리 설명과 토론
- 신회원: 기본 개념과 친근한 설명
- 청소년: 흥미로운 활동과 현대적 적용
- 초등회: 시각적 자료와 간단한 활동

### 지능형 채팅
- 공과 내용에 대한 질의응답
- 교회 교리 기반 답변
- 실용적인 조언 제공

## 📦 설치

1. 저장소 클론:
```bash
git clone <repository-url>
cd LDSTeachingAgent
```

2. 필요한 라이브러리 설치:
```bash
pip install -r requirements.txt
```

3. 환경변수 설정:
```bash
cp env_example.txt .env
```
그 후 `.env` 파일을 편집하여 Azure OpenAI 설정을 입력하세요.

## 🎯 사용법

### 애플리케이션 실행
```bash
streamlit run app.py
```

### 사용 단계

1. 브라우저에서 `http://localhost:8501` 접속

2. 좌측 사이드바에서 대상 그룹 선택:
   - 성인
   - 신회원
   - 청소년
   - 초등회

3. "📝 공과 자료 생성" 버튼 클릭

4. 생성된 공과 준비 자료 확인

5. 하단 채팅창에서 공과에 대한 질문 입력

### 주요 화면 구성

- **좌측 사이드바**: 대상 선택 및 자료 생성
- **메인 영역**: 현재 주 공과 정보 및 생성된 자료
- **채팅 영역**: 공과 관련 질의응답

## 🔧 기술 스택

- **Streamlit**: 웹 인터페이스
- **Azure OpenAI**: AI 모델 (GPT-4)
- **BeautifulSoup4**: 웹 스크래핑
- **SQLite**: 데이터베이스
- **Python-dotenv**: 환경변수 관리

## 📋 주요 라이브러리

- **streamlit**: 웹 인터페이스
- **openai**: Azure OpenAI API 연동
- **beautifulsoup4**: 웹 스크래핑
- **requests**: HTTP 요청
- **python-dotenv**: 환경 변수 관리

## ⚠️ 주의사항

- 인터넷 연결이 필요합니다 (교회 웹사이트 접근용)
- Azure OpenAI API 사용 시 비용이 발생할 수 있습니다
- 생성된 자료는 SQLite 데이터베이스에 저장됩니다
- 교회 웹사이트 구조 변경 시 스크래핑 기능이 영향을 받을 수 있습니다

## 🔑 Azure OpenAI 설정

1. Azure OpenAI 서비스에서 리소스 생성
2. .env 파일에 다음 변수들을 설정:

```env
AZURE_OPENAI_ENDPOINT=your_azure_openai_endpoint_here
AZURE_OPENAI_API_KEY=your_azure_openai_api_key_here
AZURE_OPENAI_DEPLOY_CURRICULUM=your_deployment_name_here
```

3. 애플리케이션 실행 후 설정 확인

## 🎨 UI 특징

- 깔끔하고 직관적인 인터페이스
- 좌측 사이드바에 대상 선택 및 설정
- 메인 영역에 공과 정보 및 생성된 자료 표시
- 하단 채팅 인터페이스
- 반응형 레이아웃
- 이모지를 활용한 친근한 디자인
- 안정적인 오류 처리

## 🛠️ 문제 해결

### 공과 정보를 가져올 수 없는 경우
- 인터넷 연결을 확인하세요
- 교회 웹사이트 접근이 가능한지 확인하세요
- 웹사이트 구조가 변경되었을 수 있습니다

### 공과 자료 생성이 실패하는 경우
- Azure OpenAI 설정이 올바르게 완료되었는지 확인하세요
- .env 파일의 변수들이 정확히 설정되었는지 확인하세요
- API 사용량 한도를 확인하세요

### 채팅 기능이 작동하지 않는 경우
- Azure OpenAI 설정을 확인하세요
- 인터넷 연결을 확인하세요
- API 키가 유효한지 확인하세요 